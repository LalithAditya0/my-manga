<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Viewer - Shattered Horizons</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <button id="mode-toggle"></button>

  <h1 id="chapter-title">Loading...</h1>
  <div id="pages"></div>

  <script>
    // Simple viewer: load chapter images based on ?chapter=#
    const urlParams = new URLSearchParams(window.location.search);
    const chapter = urlParams.get('chapter') || "1";

    const pagesDiv = document.getElementById("pages");
    const title = document.getElementById("chapter-title");
    title.textContent = "Chapter " + chapter;

    let page = 1;
    while (true) {
      const img = new Image();
      img.src = `manga/chapter${chapter}/page${page}.png`;
      img.onload = () => pagesDiv.appendChild(img);
      img.onerror = () => {};
      if (page > 50) break; // safety cutoff
      page++;
    }
  </script>

  <!-- Correct path: go up one level -->
  <script src="../theme.js"></script>
</body>
</html>
